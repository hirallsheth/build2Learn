  {% extends "layout.html" %}
        {% block title %}
        {{State}} Covid-19 India
        {% endblock %}
        {% block content %}

<h3 class="display-4 m-0">Global</h3>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>


<!--Start Here-->
<div class="container">
<div class="row">
<div class="col">
<div class="table-responsive">    
 <table class="table table-sm">
    <tbody>
     <tr class="bg-light p-0 text-left">
        <th>Active</th>
        <th>Confirm</th>
        <th>Deceased</th>
        <th>Recovered</th>
      </tr>
      <tr class="text-center">
        <td class="bg-primary">
             <b>{{ (globalData['TotalConfirmed'] - globalData['TotalDeaths'] - globalData['TotalRecovered']) | comafy }}</b>
        </td>
        <td class="bg-warning" id ="value2">
            <b>{{globalData['TotalConfirmed'] | comafy  }} </b>
        </td>
        <td class="bg-danger">
            <b>  {{globalData['TotalDeaths'] | comafy  }} </b>
        </td>
        <td class="bg-success">
            <b>    {{globalData['TotalRecovered'] | comafy  }} </b>
        </td>
      </tr>
      </tbody>
  </table>
 </div>
  </div>
</div>
</div>
<!--End Here-->


<table class="table table-striped table-sm">
  <thead class="thead-light">
    <tr>
      <th scope="col">Country</th>
      <th scope="col">Active</th>
      <th scope="col">Confirmed</th>
      <th scope="col">Deceased</th>
      <th scope="col">Recovered</th>
    </tr>
  </thead>
  <tbody>
  {% for country in countrydatalist %}
      <tr>
      <th scope="row" class="text-left">{{country['Country']}}</th>
      <td>{{country['TotalConfirmed'] - country['TotalDeaths'] - country['TotalRecovered'] }}</td>
      <td>{{country['TotalConfirmed'] }}</td>
      <td class="text-danger">{{country['TotalDeaths'] }}</td>
      <td class="text-success">{{country['TotalRecovered'] }}</td>
       </tr>
     {% endfor %}

   </tbody>
 </table>
  <script>
      function animateValue(id, start, end, duration) {
    // assumes integer values for start and end

    var obj = document.getElementById(id);
    var range = end - start;
    // no timer shorter than 50ms (not really visible any way)
    var minTimer = 50;
    // calc step time to show all interediate values
    var stepTime = Math.abs(Math.floor(duration / range));

    // never go below minTimer
    stepTime = Math.max(stepTime, minTimer);

    // get current time and calculate desired end time
    var startTime = new Date().getTime();
    var endTime = startTime + duration;
    var timer;

    function run() {
        var now = new Date().getTime();
        var remaining = Math.max((endTime - now) / duration, 0);
        var value = Math.round(end - (remaining * range));
        obj.innerHTML = value;
        if (value == end) {
            clearInterval(timer);
        }
    }

    timer = setInterval(run, stepTime);
    run();
}

  </script>

         {% endblock %}